
@page "/user/details/{userId}"
@using ASP_28_12.Application.Catalog.UserApp
@using ASP_28_12.Domains.Entities
@using ASP_View.Services.UserSer
<MudText Color="Color.Primary" Typo="Typo.h4">Thông tin chi tiết của người dùng</MudText>

@inject IUserApiClient userApiClient;

@if (_userDetailsDto == null)
{
    <MudText>bị null</MudText>
}
else
{
    <MudGrid>
        <MudItem xs="6" md="6">
            <MudSimpleTable>
                <MudTr>
                    <MudTd>Mã người dùng</MudTd>
                    <MudTd>@_userDetailsDto.Id</MudTd>
                    </MudTr>
                    <MudTr>
                        <MudTd>Hình ảnh</MudTd>
                        <MudTd><MudImage Width="200" Src=@_userDetailsDto.UrlImage Class="rounded-lg" /></MudTd>
                    </MudTr>
                    <MudTr>
                        <MudTd>Tên người dùng</MudTd>
                        <MudTd>@_userDetailsDto.UserName</MudTd>
                    </MudTr>
                    <MudTr>
                        <MudTd>Ngày tạo</MudTd>
                        <MudTd>@_userDetailsDto.CreatedDate.ToString("hh:mm tt dd/MM/yyyy")</MudTd>
                    </MudTr>

                    <MudTr>
                        <MudTd>Email</MudTd>
                        <MudTd>@_userDetailsDto.Email</MudTd>
                    </MudTr>
                    <MudTr>
                        <MudTd>Địa chỉ</MudTd>
                        <MudTd>@_userDetailsDto.Address</MudTd>
                    </MudTr>
                    <MudTr>
                        <MudTd>Số điện thoại</MudTd>
                        <MudTd>@_userDetailsDto.PhoneNumber</MudTd>
                    </MudTr>

                </MudSimpleTable>

            </MudItem>
        </MudGrid>
}

@code {
    [Parameter] public string userId { get; set; }

    private UserDto _userDetailsDto { get; set; }

    protected override async Task OnInitializedAsync()
    {
        _userDetailsDto = await userApiClient.GetUserDetails(userId);
    }
}
