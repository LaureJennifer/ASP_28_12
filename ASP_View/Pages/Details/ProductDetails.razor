@page "/product/details/{productId}"

@using ASP_28_12.Domains.Entities
@using ASP_View.Services.ProductSer

@inject IProductApiClient taskProductClient;
<MudText Color="Color.Primary" Typo="Typo.h4">Thông tin chi tiết của sản phẩm</MudText>

@if (_productDetailsDto == null)
{
    <MudText>bị null</MudText>
}
else
{
    <MudGrid>
        <MudItem xs="6" md="6">
            <MudSimpleTable>
                <MudTr>
                    <MudTd>Mã sản phẩm</MudTd>
                    <MudTd>@_productDetailsDto.ID</MudTd>
                    </MudTr>
                    <MudTr>
                        <MudTd>Hình ảnh</MudTd>
                        <MudTd><MudImage Width="200" Src=@_productDetailsDto.UrlImage Class="rounded-lg" /></MudTd>
                    </MudTr>
                    <MudTr>
                        <MudTd>Tên sản phẩm</MudTd>
                        <MudTd>@_productDetailsDto.Name</MudTd>
                    </MudTr>
                    <MudTr>
                        <MudTd>Ngày tạo</MudTd>
                        <MudTd>@_productDetailsDto.CreatedDate.ToString("hh:mm tt dd/MM/yyyy")</MudTd>
                    </MudTr>

                    <MudTr>
                        <MudTd>Đơn giá</MudTd>
                        <MudTd>@_productDetailsDto.Price</MudTd>
                    </MudTr>


                </MudSimpleTable>
                
            </MudItem>
    </MudGrid>
    }

@code {
    [Parameter] public string productId { get; set; }

    private Product _productDetailsDto { get; set; }

    protected override async Task OnInitializedAsync()
    {
        _productDetailsDto = await taskProductClient.GetProductDetails(productId);
    }
}
